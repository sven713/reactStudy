<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <title>受控组件</title>
</head>

<style>

</style>


<body>
    <!-- 容器 1-->
    <div id="test"></div>

    <script src="../js/react.development.js"></script>
    <script src="../js/react-dom.development.js"></script>
    <script src="../js/babel.min.js"></script>
    <script src="../js/prop-types.js"></script>

    <script type="text/babel">

        class Demo extends React.Component {
            // 弹窗提示,且不跳走(为了更好的用户体验)
            // 非受控组件: 现用现取
            // 受控组件: 组件值存储在state里面(推荐, 可以少用ref)

            submitAction =(event)=> {
                console.log(11111)
                
                const {pwd, uName} = this.state
                
                alert(`用户名:${uName} 密码:${pwd}`)

                event.preventDefault() // 阻止提交表单,用接口提交
            }

            saveName =(event)=>{
                console.log(event.target.value)
                this.setState({
                    uName: event.target.value
                })
            }

            savePwd =(event)=>{
                console.log(event.target.value)
                this.setState({
                    pwd: event.target.value
                })
            }

            render() {
                return (
                  <form  onSubmit={this.submitAction}>  
                    <input onChange={this.saveName} type="text" placeholder='请输入用户名' name='name'/>
                    <input onChange={this.savePwd} type="password" placeholder='请输入密码' name='pwd'/>
                    <button >登录</button>
                    </form>
                )
            }
        }

        

        ReactDOM.render(<Demo />, document.getElementById('test'))

    </script>


</body>

</html>